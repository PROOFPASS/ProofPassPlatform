<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <defs>
    <linearGradient id="apiGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4F46E5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3730A3;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dbGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#059669;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#047857;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="zkGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#DC2626;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#B91C1C;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="bcGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="4" stdDeviation="4" flood-opacity="0.2"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="900" height="600" fill="#F8FAFC"/>

  <!-- Title -->
  <text x="450" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1E293B">ProofPass Platform Architecture</text>

  <!-- Client Layer -->
  <rect x="50" y="70" width="800" height="80" rx="10" fill="#E2E8F0" stroke="#94A3B8" stroke-width="2"/>
  <text x="450" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#475569">CLIENT LAYER</text>

  <!-- Web App -->
  <rect x="80" y="110" width="120" height="30" rx="5" fill="#3B82F6" filter="url(#shadow)"/>
  <text x="140" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">Web Dashboard</text>

  <!-- Mobile -->
  <rect x="220" y="110" width="100" height="30" rx="5" fill="#3B82F6" filter="url(#shadow)"/>
  <text x="270" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">Mobile App</text>

  <!-- SDK -->
  <rect x="340" y="110" width="100" height="30" rx="5" fill="#8B5CF6" filter="url(#shadow)"/>
  <text x="390" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">TypeScript SDK</text>

  <!-- External -->
  <rect x="460" y="110" width="120" height="30" rx="5" fill="#6366F1" filter="url(#shadow)"/>
  <text x="520" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">External Systems</text>

  <!-- QR Scanner -->
  <rect x="600" y="110" width="100" height="30" rx="5" fill="#3B82F6" filter="url(#shadow)"/>
  <text x="650" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">QR Scanner</text>

  <!-- CLI -->
  <rect x="720" y="110" width="100" height="30" rx="5" fill="#1E293B" filter="url(#shadow)"/>
  <text x="770" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">CLI Tool</text>

  <!-- Arrows from clients -->
  <path d="M450 150 L450 175" stroke="#94A3B8" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- API Gateway -->
  <rect x="300" y="180" width="300" height="60" rx="10" fill="url(#apiGrad)" filter="url(#shadow)"/>
  <text x="450" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">ProofPass API (Fastify)</text>
  <text x="450" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#E2E8F0">REST + JWT Auth + Rate Limiting</text>

  <!-- Services Layer -->
  <rect x="50" y="260" width="800" height="120" rx="10" fill="#F1F5F9" stroke="#CBD5E1" stroke-width="2"/>
  <text x="450" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#475569">CORE SERVICES</text>

  <!-- Auth Service -->
  <rect x="70" y="295" width="130" height="70" rx="8" fill="url(#apiGrad)" filter="url(#shadow)"/>
  <text x="135" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Auth Service</text>
  <text x="135" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#C7D2FE">JWT + API Keys</text>
  <text x="135" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#C7D2FE">RBAC + Sessions</text>

  <!-- VC Service -->
  <rect x="220" y="295" width="130" height="70" rx="8" fill="url(#apiGrad)" filter="url(#shadow)"/>
  <text x="285" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">VC Service</text>
  <text x="285" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#C7D2FE">W3C Credentials</text>
  <text x="285" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#C7D2FE">DID:key + Ed25519</text>

  <!-- ZKP Service -->
  <rect x="370" y="295" width="130" height="70" rx="8" fill="url(#zkGrad)" filter="url(#shadow)"/>
  <text x="435" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">ZKP Service</text>
  <text x="435" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#FECACA">Groth16 SNARKs</text>
  <text x="435" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#FECACA">Circom Circuits</text>

  <!-- Passport Service -->
  <rect x="520" y="295" width="130" height="70" rx="8" fill="url(#apiGrad)" filter="url(#shadow)"/>
  <text x="585" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Passport Service</text>
  <text x="585" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#C7D2FE">Product DPP</text>
  <text x="585" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#C7D2FE">QR Generation</text>

  <!-- Blockchain Service -->
  <rect x="670" y="295" width="130" height="70" rx="8" fill="url(#bcGrad)" filter="url(#shadow)"/>
  <text x="735" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Blockchain</text>
  <text x="735" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#FEF3C7">Stellar + Optimism</text>
  <text x="735" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#FEF3C7">Data Anchoring</text>

  <!-- Data Layer -->
  <rect x="50" y="400" width="800" height="90" rx="10" fill="#ECFDF5" stroke="#6EE7B7" stroke-width="2"/>
  <text x="450" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#065F46">DATA LAYER</text>

  <!-- PostgreSQL -->
  <rect x="100" y="435" width="150" height="45" rx="8" fill="url(#dbGrad)" filter="url(#shadow)"/>
  <text x="175" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">PostgreSQL</text>
  <text x="175" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#D1FAE5">Users, VCs, Proofs</text>

  <!-- Redis -->
  <rect x="280" y="435" width="150" height="45" rx="8" fill="#DC2626" filter="url(#shadow)"/>
  <text x="355" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Redis</text>
  <text x="355" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#FECACA">Cache + Rate Limits</text>

  <!-- BullMQ -->
  <rect x="460" y="435" width="150" height="45" rx="8" fill="#7C3AED" filter="url(#shadow)"/>
  <text x="535" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">BullMQ</text>
  <text x="535" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#E9D5FF">Job Queue + Workers</text>

  <!-- Blockchain Storage -->
  <rect x="640" y="435" width="150" height="45" rx="8" fill="url(#bcGrad)" filter="url(#shadow)"/>
  <text x="715" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">Blockchain Ledgers</text>
  <text x="715" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#FEF3C7">Immutable Anchors</text>

  <!-- Packages Layer -->
  <rect x="50" y="510" width="800" height="70" rx="10" fill="#FEF3C7" stroke="#FCD34D" stroke-width="2"/>
  <text x="450" y="530" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#92400E">SHARED PACKAGES</text>

  <rect x="100" y="545" width="120" height="25" rx="5" fill="#92400E"/>
  <text x="160" y="562" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">@proofpass/types</text>

  <rect x="240" y="545" width="140" height="25" rx="5" fill="#92400E"/>
  <text x="310" y="562" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">@proofpass/vc-toolkit</text>

  <rect x="400" y="545" width="140" height="25" rx="5" fill="#92400E"/>
  <text x="470" y="562" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">@proofpass/zk-toolkit</text>

  <rect x="560" y="545" width="140" height="25" rx="5" fill="#92400E"/>
  <text x="630" y="562" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">@proofpass/blockchain</text>
</svg>
